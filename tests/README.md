# Tests Directory

This directory contains test files and examples demonstrating the functionality of the CodeMeta Generator toolkit.

## Test Files

### 1. `test_api.py`
**Purpose**: Demonstrates the Python API functionality of the CodeMeta Generator.

**What it does**:
- Tests the `CodeMetaGenerator` class directly through Python code
- Generates CodeMeta for the repository: `https://github.com/rsiebes/sshoc-nl-zotero`
- Enhances the generated metadata by adding author information with ORCID
- Validates the generated CodeMeta file
- Shows how to use the toolkit programmatically

**Key features demonstrated**:
- Repository metadata extraction from GitHub
- Author addition with ORCID identifier (0000-0001-8772-7904)
- Institutional affiliation (VU Amsterdam)
- Validation and quality control
- Error handling

**Usage**:
```bash
cd /path/to/codemeta-generator
python tests/test_api.py
```

### 2. `test_codemeta_sshoc.json`
**Purpose**: Example output from the Command Line Interface (CLI).

**Generated by**:
```bash
python -m src.cli generate --repo https://github.com/rsiebes/sshoc-nl-zotero --output test_codemeta_sshoc.json
```

**Content**: Basic CodeMeta file with:
- ‚úÖ CodeMeta 3.0 schema compliance
- ‚úÖ Repository metadata extracted from GitHub
- ‚úÖ Comprehensive technical specifications
- ‚úÖ Intelligent categorization (Research Software ‚Üí Scientific Computing)
- ‚úÖ Documentation and resource links
- ‚ö†Ô∏è Missing author information (basic generation)
- ‚ö†Ô∏è Missing license (repository has no license file)

### 3. `test_api_codemeta_sshoc.json`
**Purpose**: Enhanced CodeMeta file generated through the Python API.

**Generated by**: The `test_api.py` script using the Python API.

**Content**: Enhanced CodeMeta file with:
- ‚úÖ All features from the basic file
- ‚úÖ **Author information** with ORCID (Ronald Siebes, 0000-0001-8772-7904)
- ‚úÖ **Institutional affiliation** (VU Amsterdam)
- ‚úÖ **Maintainer field** automatically populated
- ‚ö†Ô∏è Only remaining warning: missing license (expected)

## Test Repository

**Repository tested**: [`https://github.com/rsiebes/sshoc-nl-zotero`](https://github.com/rsiebes/sshoc-nl-zotero)

**Description**: "a pipeline to generate Linked Data representations and enrichments for papers from the zotero database"

**Why this repository**: 
- Real-world research software project
- Maintained by Ronald Siebes (the toolkit maintainer)
- Demonstrates typical academic software characteristics
- Python-based project with clear research purpose

## Test Results Summary

### ‚úÖ **Successful Tests**
1. **CLI Interface**: Successfully generated comprehensive CodeMeta file
2. **Python API**: Successfully enhanced metadata with author information
3. **GitHub Integration**: Properly extracted repository metadata
4. **Schema Compliance**: Generated valid CodeMeta 3.0 files
5. **Validation**: Comprehensive quality checks with appropriate warnings
6. **Enhancement**: Successfully added author and maintainer information

### üìä **Metadata Quality**
- **25+ metadata fields** generated automatically
- **Intelligent categorization** based on repository content
- **Technical specifications** inferred from repository structure
- **Documentation links** automatically generated
- **ORCID integration** for proper author attribution

### ‚ö†Ô∏è **Expected Warnings**
- **Missing license**: Repository has no license file (common in academic projects)
- **Missing author** (basic generation only): Resolved in enhanced version

## Running the Tests

### Prerequisites
```bash
cd /path/to/codemeta-generator
pip install -r requirements.txt
```

### Test the CLI
```bash
python -m src.cli generate --repo https://github.com/rsiebes/sshoc-nl-zotero --output my_test.json
```

### Test the Python API
```bash
python tests/test_api.py
```

### Validate existing files
```bash
python -m src.cli validate tests/test_codemeta_sshoc.json
python -m src.cli validate tests/test_api_codemeta_sshoc.json
```

## What These Tests Prove

1. **Functionality**: Both CLI and Python API work correctly
2. **Real-world applicability**: Successfully processes actual research repositories
3. **Standards compliance**: Generates valid CodeMeta 3.0 files
4. **Enhancement capabilities**: Can enrich metadata with additional information
5. **Quality control**: Provides validation and quality feedback
6. **Ease of use**: Simple interfaces for both programmatic and command-line usage

## Expected Output

When running the tests, you should see:
- Successful CodeMeta file generation
- Validation warnings only for missing optional fields
- Enhanced metadata with author information
- Proper ORCID and institutional attribution

These test files demonstrate that the CodeMeta Generator toolkit is production-ready and capable of handling real-world research software repositories.

---

**Test Repository Owner**: Ronald Siebes (UCDS Group, VU Amsterdam)  
**ORCID**: [0000-0001-8772-7904](https://orcid.org/0000-0001-8772-7904)  
**Test Date**: July 24, 2025

